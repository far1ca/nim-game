<div class="game-container">
  <div class="game-heading">Nim Game</div>
  <div class="game-subheading">
    You've been randomly given x piles of coins, each containing a random amount. Take coins by
    clicking on the piles and inputting the amount you want to take. When you do so, the computer
    will make its' move. The player that can't make a move loses. Can you win?
  </div>
  <div class="pile-container">
    @for (pile of piles; track pile.key) {
    <div style="display: flex; flex-direction: column; align-items: center">
      <div class="pile" (click)="makeInputVisible(pile.key)">
        <img src="assets/images/coin-top.png" width="100px" alt="Coin Stack Top" />
        @for (coin of pile.coinsArray; track $index) {
        <img src="assets/images/coin-stack.png" width="100px" alt="Coin Stack" />
        }
        <div class="coin-num">{{ pile.coinsArray.length }}</div>
      </div>
      <div class="remove-box" [ngClass]="{ 'remove-box-show': showInput === pile.key }">
        <div>Remove coins..</div>
        <div style="display: flex; flex-direction: row; gap: 10px">
          <input
            type="number"
            value="1"
            min="1"
            max="{{ pile.coinsArray.length }}"
            class="remove-input"
          />
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="2rem">
            <!--!Font Awesome Free v7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.-->
            <path
              fill="#63E6BE"
              d="M320 576C178.6 576 64 461.4 64 320C64 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320C576 461.4 461.4 576 320 576zM438 209.7C427.3 201.9 412.3 204.3 404.5 215L285.1 379.2L233 327.1C223.6 317.7 208.4 317.7 199.1 327.1C189.8 336.5 189.7 351.7 199.1 361L271.1 433C276.1 438 282.9 440.5 289.9 440C296.9 439.5 303.3 435.9 307.4 430.2L443.3 243.2C451.1 232.5 448.7 217.5 438 209.7z"
            />
            (click)="removeCoins(pile, removeInput.value)"
          </svg>
        </div>
      </div>
    </div>
    }
  </div>
</div>
